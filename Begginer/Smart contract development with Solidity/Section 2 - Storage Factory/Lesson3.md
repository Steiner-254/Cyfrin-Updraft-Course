# Deploying a contract from a contract

## Introduction
- This lesson covers the process of programmatically deploying a SimpleStorage contract and saving it to a storage or state variable. By the end of this lesson, you will have a comprehensive understanding of how one contract can seamlessly deploy and manage another one.

## Creating a new variable
- Following the format type-visibility-name, we can declare a new state variable of type SimpleStorage.

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;

contract StorageFactory {
    SimpleStorage public simpleStorage;

    function createSimplestorageContract() public {
        simpleStorage = new SimpleStorage();
    }
}
```

- üëÄ‚ùóIMPORTANT

>> `SimpleStorage on the left` and `simpleStorage on the righ`t are treated as entirely distinct entities due to their differing capitalization. `Simple Storage refers to the contract type` while `simpleStorage refers to the variable name`.

- When the `new` keyword is used, the compiler recognizes the intention to deploy a new contract instance. After compiling, we can proceed to deploy it.
- In Remix, you'll then notice two buttons: an orange `createSimpleStorageContract` and a blue one, `SimpleStorage`, generated by the `public` keyword. If we call both, first createSimpleStorageContract and then SimpleStorage, the address that appears below confirms that our SimpleStorage contract has been deployed.

## Conclusion
- We have just deployed a contract that can programmatically create another contract, showing the principle of composability. In this way, contracts can know and interact with each other seamlessly.

## üßë‚Äçüíª Test yourself
1. üìï What does the `new` keyword tell to the compiler?
- Answer:

>> In Solidity, the `new` keyword is used to create a new instance of a contract. `It tells the compiler to deploy a new contract and return its address.`

2. üßë‚Äçüíª Create a contract AnimalFactory that includes a function createAnimals. This function must be capable of deploying the other 2 contracts Cows and Birds, which are simple contracts with just a constructor method.
- Answer:

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;

// Define the Cows contract
contract Cows {
    // Public string variable to store the sound a cow makes
    string public sound;

    // Constructor to initialize the sound variable
    constructor() {
        sound = "Moo";
    }
}

// Define the Birds contract
contract Birds {
    // Public string variable to store the sound a bird makes
    string public sound;

    // Constructor to initialize the sound variable
    constructor() {
        sound = "Tweet";
    }
}

// Define the AnimalFactory contract
contract AnimalFactory {
    // Dynamic array to store instances of the Cows contract
    Cows[] public cows;
    // Dynamic array to store instances of the Birds contract
    Birds[] public birds;

    // Function to create new instances of Cows and Birds contracts
    function createAnimals() public {
        // Create a new instance of the Cows contract
        Cows cow = new Cows();
        // Create a new instance of the Birds contract
        Birds bird = new Birds();

        // Push the new Cows instance into the cows array
        cows.push(cow);
        // Push the new Birds instance into the birds array
        birds.push(bird);
    }
}
```
